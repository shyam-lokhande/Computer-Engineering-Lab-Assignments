SET SERVEROUTPUT ON
CREATE TABLE lib_tab(book_name VARCHAR2(25),status VARCHAR2(15));
CREATE OR REPLACE TRIGGER trigger_1 

AFTER UPDATE OR DELETE OR INSERT ON lib_tab FOR EACH ROW
ENABLE
	BEGIN
		IF UPDATING THEN
			dbms_output.put_line(:OLD.status);
			INSERT INTO library_Audit VALUES (SYSDATE,:OLD.book_name,:OLD.status,:NEW.status,'UPDATE');
           ELSIF INSERTING THEN
                 dbms_output.put_line(:NEW.status);
                 INSERT INTO library_Audit VALUES (SYSDATE,:NEW.book_name,:OLD.status,:NEW.status,'INSERT');
		ELSE
			dbms_output.put_line(:OLD.book_name||'deleting');
			INSERT INTO library_Audit VALUES(SYSDATE,:OLD.book_name,:OLD.status,:NEW.status,'DELETE');
		END IF;
	END;
/

 INSERT INTO lib_tab VALUES('UNCHARTED1','AVAILABLE');